'use strict';function takeThen(a,b){if(null!=a){try{b=a.then;}catch(a){return}return "function"==typeof b&&b.bind(a)}}var splice=[].splice;function build(a,b){return Object.defineProperty(function d(a,c){if("function"!=typeof c)throw new TypeError(c+" is not a function");var e,f=this,g=arguments,h=takeThen(a);return h?h(function(a){return g[0]=a,d.apply(f,g)}):(e=b.call(f,a,c),2<g.length?(splice.call(g,0,2,e),d.apply(f,g)):e)},"name",{value:a,configurable:!0})}var run=build("run",function(a,b){return b.call(this,a)}),runIf=build("runIf",function(a,b){return null==a?a:b.call(this,a)}),apply=build("apply",function(a,b,c){return (c=takeThen(b.call(this,a)))?c(function(){return a}):a});exports.apply=apply;exports.run=run;exports.runIf=runIf;